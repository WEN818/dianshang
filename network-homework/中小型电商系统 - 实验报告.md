

## ä¸€ã€ä»£ç åœ°å€
### GitHub/Gitee ä»“åº“åœ°å€
```plain
https://github.com/WEN818/dianshang/tree/main
```



### ä»£ç ç»“æ„è¯´æ˜
+ é¡¹ç›®é‡‡ç”¨æ ‡å‡†çš„ Maven é¡¹ç›®ç»“æ„
+ æºä»£ç ä½äº `src/main/java/com/example/network_homework/`
+ å‰ç«¯æ¨¡æ¿ä½äº `src/main/resources/templates/`
+ Docker é…ç½®æ–‡ä»¶ï¼š`compose.yaml`ã€`Dockerfile`

---

## äºŒã€åº”ç”¨åœ°å€
### æœåŠ¡å™¨éƒ¨ç½²åœ°å€
```plain
http://114.132.150.59:8080
```

### è®¿é—®è¯´æ˜
+ **ç™»å½•é¡µé¢**ï¼š`http://114.132.150.59:8080/login`
+ **æ³¨å†Œé¡µé¢**ï¼š`http://114.132.150.59:8080/register/page`
+ **å•†å“åˆ—è¡¨**ï¼š`http://114.132.150.59:8080/products/page`
+ **è´­ç‰©è½¦é¡µé¢**ï¼š`http://114.132.150.59:8080/cart/page`



---

## ä¸‰ã€è®¾è®¡æ€è·¯
### 3.1 ç³»ç»Ÿæ¶æ„è®¾è®¡
æœ¬ç³»ç»Ÿé‡‡ç”¨ç»å…¸çš„ **MVCï¼ˆModel-View-Controllerï¼‰ä¸‰å±‚æ¶æ„**ï¼š

```plain
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          View Layer (Thymeleaf)         â”‚
â”‚   (ç™»å½•é¡µã€æ³¨å†Œé¡µã€å•†å“åˆ—è¡¨ã€è´­ç‰©è½¦)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Controller Layer (Spring MVC)     â”‚
â”‚  (AuthController, ProductController,    â”‚
â”‚   CartController, ViewController)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Service Layer (ä¸šåŠ¡é€»è¾‘)          â”‚
â”‚  (CartService, ProductService,          â”‚
â”‚   CustomUserDetailsService)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Repository Layer (æ•°æ®è®¿é—®)           â”‚
â”‚  (JPA Repository Interfaces)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Database (MySQL 8.0)            â”‚
â”‚   (users, product, cart_item)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æŠ€æœ¯é€‰å‹ç†ç”±
1. **Spring Boot**ï¼š
    - ç®€åŒ–é…ç½®ï¼Œå¿«é€Ÿå¼€å‘
    - å†…ç½®TomcatæœåŠ¡å™¨ï¼Œæ— éœ€å•ç‹¬éƒ¨ç½²
    - ä¸°å¯Œçš„starterä¾èµ–ï¼Œå¼€ç®±å³ç”¨
2. **Spring Security**ï¼š
    - æä¾›å®Œæ•´çš„è®¤è¯å’Œæˆæƒæ¡†æ¶
    - æ”¯æŒå¤šç§è®¤è¯æ–¹å¼ï¼ˆè¡¨å•ç™»å½•ã€HTTP Basicï¼‰
    - å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆBCryptï¼‰
3. **Spring Data JPA**ï¼š
    - ç®€åŒ–æ•°æ®åº“æ“ä½œï¼Œå‡å°‘æ ·æ¿ä»£ç 
    - è‡ªåŠ¨ç”ŸæˆSQLï¼Œæé«˜å¼€å‘æ•ˆç‡
    - æ”¯æŒå¤æ‚æŸ¥è¯¢å’Œäº‹åŠ¡ç®¡ç†
4. **Thymeleaf**ï¼š
    - æœåŠ¡ç«¯æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒåŠ¨æ€é¡µé¢æ¸²æŸ“
    - ä¸Spring Bootæ— ç¼é›†æˆ
    - æ”¯æŒHTML5æ ‡å‡†
5. **Docker**ï¼š
    - å®¹å™¨åŒ–éƒ¨ç½²ï¼Œç¯å¢ƒä¸€è‡´æ€§
    - ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œä¸€é”®å¯åŠ¨
    - ä¾¿äºæ‰©å±•å’Œç»´æŠ¤

### 3.3 æ•°æ®åº“è®¾è®¡
#### 3.3.1 ç”¨æˆ·è¡¨ï¼ˆusersï¼‰
```sql
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL  -- BCryptåŠ å¯†
);
```

#### 3.3.2 å•†å“è¡¨ï¼ˆproductï¼‰
```sql
CREATE TABLE product (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    stock INT NOT NULL
);
```

#### 3.3.3 è´­ç‰©è½¦è¡¨ï¼ˆcart_itemï¼‰
```sql
CREATE TABLE cart_item (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id VARCHAR(50) NOT NULL,
    product_id BIGINT NOT NULL,
    quantity INT NOT NULL,
    FOREIGN KEY (product_id) REFERENCES product(id)
);
```

### 3.4 æ ¸å¿ƒåŠŸèƒ½è®¾è®¡
#### 3.4.1 ç”¨æˆ·è®¤è¯æµç¨‹
```plain
ç”¨æˆ·æ³¨å†Œ â†’ å¯†ç åŠ å¯†ï¼ˆBCryptï¼‰â†’ å­˜å‚¨åˆ°æ•°æ®åº“
ç”¨æˆ·ç™»å½• â†’ éªŒè¯ç”¨æˆ·åå¯†ç  â†’ åˆ›å»ºSession â†’ è·³è½¬åˆ°å•†å“åˆ—è¡¨
```

#### 3.4.2 è´­ç‰©è½¦åŠŸèƒ½è®¾è®¡
+ **å•†å“åˆå¹¶é€»è¾‘**ï¼šåŒä¸€ç”¨æˆ·æ·»åŠ ç›¸åŒå•†å“æ—¶ï¼Œæ£€æŸ¥è´­ç‰©è½¦ä¸­æ˜¯å¦å·²å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™ç´¯åŠ æ•°é‡ï¼Œå¦åˆ™åˆ›å»ºæ–°é¡¹
+ **è‡ªåŠ¨å…³è”ç”¨æˆ·**ï¼šé€šè¿‡Spring Securityè·å–å½“å‰ç™»å½•ç”¨æˆ·ï¼Œè‡ªåŠ¨å…³è”è´­ç‰©è½¦
+ **æ€»ä»·è®¡ç®—**ï¼šåœ¨è´­ç‰©è½¦é¡µé¢å®æ—¶è®¡ç®—æ‰€æœ‰å•†å“çš„æ€»ä»·

#### 3.4.3 å®‰å…¨è®¾è®¡
+ å¯†ç ä½¿ç”¨BCryptåŠ å¯†å­˜å‚¨ï¼Œä¸å¯é€†
+ ä½¿ç”¨Spring Securityè¿›è¡Œæƒé™æ§åˆ¶
+ æœªç™»å½•ç”¨æˆ·æ— æ³•è®¿é—®è´­ç‰©è½¦ç­‰å—ä¿æŠ¤èµ„æº

---

## å››ã€å®éªŒä»£ç 
### 4.1 æ ¸å¿ƒä»£ç ç»“æ„
#### 4.1.1 å®ä½“ç±»ï¼ˆEntityï¼‰
**Product.java** - å•†å“å®ä½“

```java
@Entity
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String name;
    private String description;
    private Double price;
    private Integer stock;
    // getter/setter...
}
```

**UserAccount.java** - ç”¨æˆ·å®ä½“

```java
@Entity
public class UserAccount {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    @Column(unique = true)
    private String username;
    private String password;  // BCryptåŠ å¯†
    // getter/setter...
}
```

**CartItem.java** - è´­ç‰©è½¦é¡¹å®ä½“

```java
@Entity
public class CartItem {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    private String userId;
    @ManyToOne
    private Product product;
    private Integer quantity;
    // getter/setter...
}
```

#### 4.1.2 æ§åˆ¶å™¨ï¼ˆControllerï¼‰
**ViewController.java** - è§†å›¾æ§åˆ¶å™¨

+ å¤„ç†é¡µé¢è·³è½¬é€»è¾‘
+ æ ¹è·¯å¾„è‡ªåŠ¨é‡å®šå‘
+ å•†å“åˆ—è¡¨é¡µé¢æ•°æ®ç»‘å®š
+ è´­ç‰©è½¦é¡µé¢æ•°æ®ç»‘å®š

**AuthController.java** - è®¤è¯æ§åˆ¶å™¨

+ ç”¨æˆ·æ³¨å†Œæ¥å£
+ å¤„ç†æ³¨å†Œè¡¨å•æäº¤

**ProductController.java** - å•†å“APIæ§åˆ¶å™¨

+ `GET /products` - è·å–å•†å“åˆ—è¡¨
+ `GET /products/{id}` - è·å–å•ä¸ªå•†å“
+ `POST /products` - åˆ›å»ºå•†å“
+ `PUT /products/{id}` - æ›´æ–°å•†å“
+ `DELETE /products/{id}` - åˆ é™¤å•†å“

**CartController.java** - è´­ç‰©è½¦APIæ§åˆ¶å™¨

+ `GET /cart` - è·å–è´­ç‰©è½¦åˆ—è¡¨
+ `POST /cart` - æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
+ `PUT /cart/{id}` - æ›´æ–°è´­ç‰©è½¦é¡¹æ•°é‡
+ `DELETE /cart/{id}` - åˆ é™¤è´­ç‰©è½¦é¡¹

#### 4.1.3 æœåŠ¡å±‚ï¼ˆServiceï¼‰
**CartService.java** - è´­ç‰©è½¦æœåŠ¡

+ å®ç°å•†å“è‡ªåŠ¨åˆå¹¶é€»è¾‘
+ è®¡ç®—è´­ç‰©è½¦æ€»ä»·
+ ç®¡ç†è´­ç‰©è½¦é¡¹çš„å¢åˆ æ”¹æŸ¥

**ProductService.java** - å•†å“æœåŠ¡

+ å•†å“CRUDæ“ä½œ
+ å•†å“åˆ—è¡¨æŸ¥è¯¢

**CustomUserDetailsService.java** - ç”¨æˆ·è¯¦æƒ…æœåŠ¡

+ å®ç°Spring Securityçš„UserDetailsServiceæ¥å£
+ ä»æ•°æ®åº“åŠ è½½ç”¨æˆ·ä¿¡æ¯ç”¨äºè®¤è¯

#### 4.1.4 é…ç½®ç±»ï¼ˆConfigï¼‰
**SecurityConfig.java** - Spring Securityé…ç½®

+ é…ç½®ç™»å½•é¡µé¢å’Œç™»å½•å¤„ç†URL
+ é…ç½®æƒé™è§„åˆ™ï¼ˆå“ªäº›è·¯å¾„éœ€è¦è®¤è¯ï¼‰
+ é…ç½®å¯†ç åŠ å¯†å™¨ï¼ˆBCryptï¼‰
+ é…ç½®HTTP Basicè®¤è¯æ”¯æŒ

**SampleDataConfig.java** - ç¤ºä¾‹æ•°æ®é…ç½®

+ é¡¹ç›®å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ç¤ºä¾‹å•†å“æ•°æ®
+ ä½¿ç”¨CommandLineRunneråœ¨åº”ç”¨å¯åŠ¨åæ‰§è¡Œ

### 4.2 å…³é”®ä»£ç ç‰‡æ®µ
#### è´­ç‰©è½¦å•†å“åˆå¹¶é€»è¾‘
```java
public CartItem addToCart(String userId, Long productId, Integer quantity) {
    // æŸ¥æ‰¾æ˜¯å¦å·²å­˜åœ¨è¯¥å•†å“
    Optional<CartItem> existing = cartItemRepository
        .findByUserIdAndProductId(userId, productId);
    
    if (existing.isPresent()) {
        // å¦‚æœå­˜åœ¨ï¼Œç´¯åŠ æ•°é‡
        CartItem item = existing.get();
        item.setQuantity(item.getQuantity() + quantity);
        return cartItemRepository.save(item);
    } else {
        // å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°é¡¹
        CartItem newItem = new CartItem();
        newItem.setUserId(userId);
        newItem.setProduct(productService.findById(productId).orElseThrow());
        newItem.setQuantity(quantity);
        return cartItemRepository.save(newItem);
    }
}
```

#### ç”¨æˆ·æ³¨å†Œå¯†ç åŠ å¯†
```java
@PostMapping("/register")
public ResponseEntity<?> register(@RequestBody RegisterRequest request) {
    if (userAccountRepository.findByUsername(request.getUsername()).isPresent()) {
        return ResponseEntity.badRequest().build();
    }
    
    UserAccount user = new UserAccount();
    user.setUsername(request.getUsername());
    // ä½¿ç”¨BCryptåŠ å¯†å¯†ç 
    user.setPassword(passwordEncoder.encode(request.getPassword()));
    userAccountRepository.save(user);
    
    return ResponseEntity.ok().build();
}
```

---

## äº”ã€åŠŸèƒ½æµ‹è¯•
### 5.1 ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æµ‹è¯•
**æµ‹è¯•æ­¥éª¤**ï¼š

1. è®¿é—®æ³¨å†Œé¡µé¢ï¼š`http://localhost:8080/register/page`
2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»"æ³¨å†Œ"æŒ‰é’®

**é¢„æœŸç»“æœ**ï¼š

+ âœ… æ³¨å†ŒæˆåŠŸï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢
+ âœ… æ•°æ®åº“ä¸­æ–°å¢ç”¨æˆ·è®°å½•
+ âœ… å¯†ç å·²åŠ å¯†å­˜å‚¨ï¼ˆBCryptï¼‰

**æµ‹è¯•æˆªå›¾**ï¼š

> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766195833144-887e9eea-c0b5-4e3f-be28-c2f5fc4161b9.png)
>

### 5.2 ç”¨æˆ·ç™»å½•åŠŸèƒ½æµ‹è¯•
**æµ‹è¯•æ­¥éª¤**ï¼š

1. è®¿é—®ç™»å½•é¡µé¢ï¼š`http://localhost:8080/login`
2. è¾“å…¥å·²æ³¨å†Œçš„ç”¨æˆ·åå’Œå¯†ç 
3. ç‚¹å‡»"ç™»å½•"æŒ‰é’®

**é¢„æœŸç»“æœ**ï¼š

+ âœ… ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°å•†å“åˆ—è¡¨é¡µé¢
+ âœ… é¡µé¢å³ä¸Šè§’æ˜¾ç¤ºå½“å‰ç”¨æˆ·å
+ âœ… å¯ä»¥è®¿é—®è´­ç‰©è½¦ç­‰å—ä¿æŠ¤èµ„æº

**æµ‹è¯•æˆªå›¾**ï¼š

> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766195863661-4974dc94-acc3-475f-b727-b57ede39fb1e.png)
>
> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766195918051-a44f359e-d3df-4d3c-8465-31e7adb81bd0.png)
>

### 5.3 å•†å“åˆ—è¡¨åŠŸèƒ½æµ‹è¯•
**æµ‹è¯•æ­¥éª¤**ï¼š

1. ç™»å½•åè®¿é—®å•†å“åˆ—è¡¨é¡µé¢
2. æŸ¥çœ‹å•†å“ä¿¡æ¯ï¼ˆåç§°ã€æè¿°ã€ä»·æ ¼ï¼‰

**é¢„æœŸç»“æœ**ï¼š

+ âœ… æ˜¾ç¤ºæ‰€æœ‰å•†å“ä¿¡æ¯
+ âœ… æ¯ä¸ªå•†å“éƒ½æœ‰"åŠ å…¥è´­ç‰©è½¦"æŒ‰é’®
+ âœ… å¯ä»¥è¾“å…¥è´­ä¹°æ•°é‡

**æµ‹è¯•æˆªå›¾**ï¼š

> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766195953508-19d8042e-4369-4935-9a70-71d80ced87b5.png)
>

### 5.4 è´­ç‰©è½¦åŠŸèƒ½æµ‹è¯•
#### 5.4.1 æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
**æµ‹è¯•æ­¥éª¤**ï¼š

1. åœ¨å•†å“åˆ—è¡¨é¡µé¢é€‰æ‹©å•†å“
2. è¾“å…¥æ•°é‡ï¼Œç‚¹å‡»"åŠ å…¥è´­ç‰©è½¦"
3. é‡å¤æ·»åŠ åŒä¸€å•†å“

**é¢„æœŸç»“æœ**ï¼š

+ âœ… å•†å“æˆåŠŸæ·»åŠ åˆ°è´­ç‰©è½¦
+ âœ… åŒä¸€å•†å“é‡å¤æ·»åŠ æ—¶ï¼Œæ•°é‡è‡ªåŠ¨ç´¯åŠ 
+ âœ… è´­ç‰©è½¦æŒ‰é’®æ˜¾ç¤ºå•†å“æ€»æ•°é‡

**æµ‹è¯•æˆªå›¾**ï¼š

> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766196039484-5f4a837c-6f82-48c9-9a34-f45ec5b4b719.png)
>

#### 5.4.2 æŸ¥çœ‹è´­ç‰©è½¦
**æµ‹è¯•æ­¥éª¤**ï¼š

1. ç‚¹å‡»å³ä¸Šè§’"ğŸ›’ è´­ç‰©è½¦"æŒ‰é’®
2. æŸ¥çœ‹è´­ç‰©è½¦å†…å®¹

**é¢„æœŸç»“æœ**ï¼š

+ âœ… æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ çš„å•†å“
+ âœ… æ˜¾ç¤ºæ¯ä¸ªå•†å“çš„æ•°é‡å’Œå•ä»·
+ âœ… æ˜¾ç¤ºè´­ç‰©è½¦æ€»ä»·
+ âœ… å¯ä»¥ä¿®æ”¹å•†å“æ•°é‡æˆ–åˆ é™¤å•†å“

**æµ‹è¯•æˆªå›¾**ï¼š

> ![](https://cdn.nlark.com/yuque/0/2025/png/62456850/1766196009512-1765c1b7-6751-432f-8486-e71d139eb375.png)
>

#### 5.4.3 ä¿®æ”¹è´­ç‰©è½¦å•†å“æ•°é‡
**æµ‹è¯•æ­¥éª¤**ï¼š

1. åœ¨è´­ç‰©è½¦é¡µé¢ç‚¹å‡»"å¢åŠ "æˆ–"å‡å°‘"æŒ‰é’®
2. æŸ¥çœ‹æ€»ä»·å˜åŒ–

**é¢„æœŸç»“æœ**ï¼š

+ âœ… å•†å“æ•°é‡æˆåŠŸæ›´æ–°
+ âœ… æ€»ä»·è‡ªåŠ¨é‡æ–°è®¡ç®—

#### 5.4.4 åˆ é™¤è´­ç‰©è½¦å•†å“
**æµ‹è¯•æ­¥éª¤**ï¼š

1. åœ¨è´­ç‰©è½¦é¡µé¢ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
2. ç¡®è®¤åˆ é™¤

**é¢„æœŸç»“æœ**ï¼š

+ âœ… å•†å“ä»è´­ç‰©è½¦ä¸­ç§»é™¤
+ âœ… æ€»ä»·è‡ªåŠ¨æ›´æ–°

### 5.5 APIæ¥å£æµ‹è¯•
ä½¿ç”¨ Postman æˆ– curl æµ‹è¯• RESTful APIï¼š

#### 5.5.1 è·å–å•†å“åˆ—è¡¨
```bash
curl http://localhost:8080/products
```

**é¢„æœŸç»“æœ**ï¼šè¿”å›JSONæ ¼å¼çš„å•†å“åˆ—è¡¨

#### 5.5.2 ç”¨æˆ·æ³¨å†Œï¼ˆAPIï¼‰
```bash
curl -X POST http://localhost:8080/register \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"123456"}'
```

**é¢„æœŸç»“æœ**ï¼šè¿”å›200çŠ¶æ€ç ï¼Œç”¨æˆ·åˆ›å»ºæˆåŠŸ

#### 5.5.3 æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼ˆéœ€è¦è®¤è¯ï¼‰
```bash
curl -X POST http://localhost:8080/cart \
  -u testuser:123456 \
  -H "Content-Type: application/json" \
  -d '{"userId":"testuser","productId":1,"quantity":2}'
```

**é¢„æœŸç»“æœ**ï¼šè¿”å›200çŠ¶æ€ç ï¼Œå•†å“æ·»åŠ åˆ°è´­ç‰©è½¦

### 5.6 å®‰å…¨æ€§æµ‹è¯•
#### 5.6.1 æœªç™»å½•è®¿é—®æµ‹è¯•
**æµ‹è¯•æ­¥éª¤**ï¼š

1. æœªç™»å½•çŠ¶æ€ä¸‹ç›´æ¥è®¿é—®è´­ç‰©è½¦é¡µé¢

**é¢„æœŸç»“æœ**ï¼š

+ âœ… è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
+ âœ… æ— æ³•è®¿é—®å—ä¿æŠ¤èµ„æº

#### 5.6.2 å¯†ç åŠ å¯†æµ‹è¯•
**æµ‹è¯•æ­¥éª¤**ï¼š

1. æ³¨å†Œæ–°ç”¨æˆ·
2. æŸ¥çœ‹æ•°æ®åº“ä¸­çš„å¯†ç å­—æ®µ

**é¢„æœŸç»“æœ**ï¼š

+ âœ… å¯†ç ä»¥BCryptæ ¼å¼åŠ å¯†å­˜å‚¨
+ âœ… æ— æ³•ç›´æ¥çœ‹åˆ°æ˜æ–‡å¯†ç 

---

## å…­ã€åº”ç”¨éƒ¨ç½²
### 6.1 éƒ¨ç½²ç¯å¢ƒ
+ **æœåŠ¡å™¨**ï¼šè…¾è®¯äº‘ Ubuntu 22.04 LTS
+ **CPU**ï¼š2æ ¸
+ **å†…å­˜**ï¼š4GB
+ **å…¬ç½‘IP**ï¼š114.132.150.59
+ **åŸŸå**ï¼š

### 6.2 éƒ¨ç½²æ­¥éª¤
#### 6.2.1 æœåŠ¡å™¨å‡†å¤‡
1. **ç”³è¯·äº‘æœåŠ¡å™¨**
    - é€‰æ‹©è…¾è®¯äº‘/é˜¿é‡Œäº‘ç­‰äº‘æœåŠ¡å•†
    - é€‰æ‹©Ubuntu 22.04 LTSç³»ç»Ÿ
    - é…ç½®å®‰å…¨ç»„ï¼Œå¼€æ”¾22ã€80ã€443ã€8080ç«¯å£
2. **è¿æ¥æœåŠ¡å™¨**

```bash
ssh ubuntu@114.132.150.59
```

#### 6.2.2 å®‰è£…å¿…è¦è½¯ä»¶
1. **å®‰è£…Docker**

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker
```

2. **å®‰è£…Docker Compose**

```bash
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
```

3. **é…ç½®Dockeré•œåƒåŠ é€Ÿå™¨**

```bash
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json > /dev/null <<'EOF'
{
  "registry-mirrors": [
    "https://mirror.ccs.tencentyun.com"
  ],
  "dns": ["8.8.8.8", "114.114.114.114"]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
```

#### 6.2.3 ä¸Šä¼ é¡¹ç›®æ–‡ä»¶
1. **ä½¿ç”¨Gitå…‹éš†**ï¼ˆæ¨èï¼‰

```bash
cd /opt
# git clone <your-repo-url> network-homework
git clone https://github.com/WEN818/dianshang.git
cd network-homework
```

2. **æˆ–ä½¿ç”¨SCPä¸Šä¼ **

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp -r network-homework/ ubuntu@114.132.150.59:/opt/
```

#### 6.2.4 é…ç½®æ•°æ®åº“å¯†ç 
1. **ä¿®æ”¹compose.yaml**

```bash
nano compose.yaml
```

2. **ä¿®æ”¹æ•°æ®åº“å¯†ç **ï¼ˆä½¿ç”¨å¼ºå¯†ç ï¼‰

```yaml
environment:
  - MYSQL_PASSWORD=
  - MYSQL_ROOT_PASSWORD=
```

#### 6.2.5 å¯åŠ¨æœåŠ¡
1. **ä½¿ç”¨éƒ¨ç½²è„šæœ¬**

```bash
chmod +x deploy.sh
./deploy.sh
```

2. **æˆ–æ‰‹åŠ¨å¯åŠ¨**

```bash
docker-compose up -d --build
```

#### 6.2.6 éªŒè¯éƒ¨ç½²
1. **æ£€æŸ¥å®¹å™¨çŠ¶æ€**

```bash
docker-compose ps
```

2. **æŸ¥çœ‹åº”ç”¨æ—¥å¿—**

```bash
docker-compose logs -f app
```

3. **æµ‹è¯•è®¿é—®**

```bash
curl http://localhost:8080
```

### 6.3 éƒ¨ç½²ç»“æœ
+ âœ… åº”ç”¨æˆåŠŸéƒ¨ç½²åˆ°æœåŠ¡å™¨
+ âœ… å¯ä»¥é€šè¿‡å…¬ç½‘IPè®¿é—®ï¼š`http://114.132.150.59:8080`
+ âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œ
+ âœ… æ•°æ®åº“æ•°æ®æŒä¹…åŒ–å­˜å‚¨

### 6.4 éƒ¨ç½²é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ
#### é—®é¢˜1ï¼šDockeré•œåƒæ‹‰å–å¤±è´¥
**åŸå› **ï¼šç½‘ç»œé—®é¢˜ï¼Œæ— æ³•è®¿é—®Docker Hub  
**è§£å†³æ–¹æ¡ˆ**ï¼šé…ç½®å›½å†…é•œåƒåŠ é€Ÿå™¨ï¼ˆè…¾è®¯äº‘é•œåƒã€é˜¿é‡Œäº‘é•œåƒç­‰ï¼‰

#### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥
**åŸå› **ï¼šå¯†ç é…ç½®ä¸ä¸€è‡´  
**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿compose.yamlä¸­çš„å¯†ç ä¸åº”ç”¨é…ç½®ä¸€è‡´

#### é—®é¢˜3ï¼šåº”ç”¨å¯åŠ¨å¤±è´¥
**åŸå› **ï¼šMaven Wrapperé…ç½®ç¼ºå¤±  
**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨Dockerfileä¸­è‡ªåŠ¨åˆ›å»º.mvnç›®å½•å’Œé…ç½®æ–‡ä»¶

#### é—®é¢˜4ï¼šä¸­æ–‡ä¹±ç 
**åŸå› **ï¼šæ•°æ®åº“å­—ç¬¦é›†é…ç½®é—®é¢˜  
**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨UTF-8ç¼–ç ï¼Œå•†å“æ•°æ®ä½¿ç”¨è‹±æ–‡

### 6.5 éƒ¨ç½²ä¼˜åŒ–
1. **é…ç½®è‡ªåŠ¨å¤‡ä»½**

```bash
chmod +x backup.sh
# é…ç½®å®šæ—¶ä»»åŠ¡
crontab -e
# æ·»åŠ ï¼š0 3 * * * /opt/network-homework/backup.sh
```

2. **é…ç½®ç›‘æ§è„šæœ¬**

```bash
chmod +x monitor.sh
# é…ç½®å®šæ—¶ä»»åŠ¡
crontab -e
# æ·»åŠ ï¼š*/5 * * * * /opt/network-homework/monitor.sh
```

3. **é…ç½®åŸŸåå’ŒHTTPS**ï¼ˆå¯é€‰ï¼‰
    - ä½¿ç”¨Nginxåå‘ä»£ç†
    - é…ç½®Let's Encryptå…è´¹SSLè¯ä¹¦

---

## ä¸ƒã€æ€»ç»“
### 7.1 é¡¹ç›®å®Œæˆæƒ…å†µ
+ âœ… å®Œæˆäº†ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½
+ âœ… å®Œæˆäº†å•†å“ç®¡ç†åŠŸèƒ½ï¼ˆCRUDï¼‰
+ âœ… å®Œæˆäº†è´­ç‰©è½¦åŠŸèƒ½ï¼ˆæ·»åŠ ã€æŸ¥çœ‹ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰
+ âœ… å®ç°äº†Webå‰ç«¯é¡µé¢
+ âœ… å®ç°äº†RESTful APIæ¥å£
+ âœ… å®Œæˆäº†Dockerå®¹å™¨åŒ–éƒ¨ç½²
+ âœ… æˆåŠŸéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨

### 7.2 æŠ€æœ¯æ”¶è·
1. **Spring Bootæ¡†æ¶**ï¼šæŒæ¡äº†Spring Bootçš„åŸºæœ¬ä½¿ç”¨å’Œé…ç½®
2. **Spring Security**ï¼šå­¦ä¼šäº†ç”¨æˆ·è®¤è¯å’Œæˆæƒçš„å®ç°
3. **Spring Data JPA**ï¼šæŒæ¡äº†ORMæ¡†æ¶çš„ä½¿ç”¨
4. **Thymeleafæ¨¡æ¿å¼•æ“**ï¼šå­¦ä¼šäº†æœåŠ¡ç«¯æ¸²æŸ“
5. **Dockerå®¹å™¨åŒ–**ï¼šæŒæ¡äº†Dockerå’ŒDocker Composeçš„ä½¿ç”¨
6. **æœåŠ¡å™¨éƒ¨ç½²**ï¼šå­¦ä¼šäº†åœ¨äº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²åº”ç”¨

### 7.3 é¡¹ç›®äº®ç‚¹
1. **å®Œæ•´çš„MVCæ¶æ„**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
2. **å‰åç«¯åˆ†ç¦»è®¾è®¡**ï¼šåŒæ—¶æ”¯æŒWebé¡µé¢å’ŒAPIæ¥å£
3. **å®‰å…¨æ€§**ï¼šå¯†ç åŠ å¯†å­˜å‚¨ï¼Œæƒé™æ§åˆ¶å®Œå–„
4. **ç”¨æˆ·ä½“éªŒ**ï¼šè´­ç‰©è½¦è‡ªåŠ¨åˆå¹¶ï¼Œæ€»ä»·è‡ªåŠ¨è®¡ç®—
5. **å®¹å™¨åŒ–éƒ¨ç½²**ï¼šä¸€é”®éƒ¨ç½²ï¼Œç¯å¢ƒä¸€è‡´

### 7.4 åç»­æ”¹è¿›æ–¹å‘
1. å®ç°è®¢å•ç®¡ç†åŠŸèƒ½
2. æ·»åŠ å•†å“æœç´¢å’Œç­›é€‰åŠŸèƒ½
3. å®ç°ç”¨æˆ·ä¸ªäººä¸­å¿ƒ
4. æ·»åŠ å•†å“è¯¦æƒ…é¡µé¢
5. å®ç°æ”¯ä»˜åŠŸèƒ½é›†æˆ
6. æ·»åŠ ç®¡ç†å‘˜åå°
7. å®ç°å•†å“å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½

---

## é™„å½•
### A. é¡¹ç›®æ–‡ä»¶æ¸…å•
+ `pom.xml` - Mavenä¾èµ–é…ç½®
+ `compose.yaml` - Docker Composeé…ç½®
+ `Dockerfile` - Dockeré•œåƒæ„å»ºæ–‡ä»¶
+ `src/main/java/` - Javaæºä»£ç 
+ `src/main/resources/` - é…ç½®æ–‡ä»¶å’Œæ¨¡æ¿æ–‡ä»¶
+ `README.md` - é¡¹ç›®è¯´æ˜æ–‡æ¡£
+ `QUICK_START.md` - å¿«é€Ÿéƒ¨ç½²æŒ‡å—
+ `DEPLOYMENT.md` - æœåŠ¡å™¨éƒ¨ç½²æ–‡æ¡£
+ `æ–°æ‰‹éƒ¨ç½²å®Œæ•´æŒ‡å—.md` - è¯¦ç»†éƒ¨ç½²æ•™ç¨‹

### B. å‚è€ƒæ–‡æ¡£
+ Spring Bootå®˜æ–¹æ–‡æ¡£ï¼š[https://spring.io/projects/spring-boot](https://spring.io/projects/spring-boot)
+ Spring Securityæ–‡æ¡£ï¼š[https://spring.io/projects/spring-security](https://spring.io/projects/spring-security)
+ Dockerå®˜æ–¹æ–‡æ¡£ï¼š[https://docs.docker.com/](https://docs.docker.com/)
+ Thymeleafæ–‡æ¡£ï¼š[https://www.thymeleaf.org/documentation.html](https://www.thymeleaf.org/documentation.html)

---

**æŠ¥å‘Šå®Œæˆæ—¥æœŸ**ï¼š2025å¹´12æœˆ  
**ä½œè€…**ï¼šæ¸©æºæ›¼  
**å­¦å·**ï¼š202230443019

