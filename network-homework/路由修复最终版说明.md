# è·¯ç”±ä¿®å¤æœ€ç»ˆç‰ˆè¯´æ˜

## âœ… å·²ä¿®å¤çš„é—®é¢˜

### é—®é¢˜1ï¼šè®¢å•åˆ—è¡¨ä¸­æ”¯ä»˜æŒ‰é’®404é”™è¯¯
**åŸå› **ï¼šThymeleafçš„`th:onclick`å±æ€§åœ¨å­—ç¬¦ä¸²æ‹¼æ¥æ—¶å¯èƒ½æ— æ³•æ­£ç¡®è§£æ

**ä¿®å¤**ï¼š
- ä½¿ç”¨`data-order-id`å±æ€§å­˜å‚¨è®¢å•ID
- ä½¿ç”¨JavaScriptäº‹ä»¶ç›‘å¬å™¨æ›¿ä»£å†…è”onclick
- ä½¿ç”¨`DOMContentLoaded`ç¡®ä¿DOMåŠ è½½å®Œæˆåå†ç»‘å®šäº‹ä»¶

### é—®é¢˜2ï¼šç®¡ç†å‘˜è®¢å•åˆ—è¡¨ä¸­å‘è´§æŒ‰é’®404é”™è¯¯
**åŸå› **ï¼šåŒæ ·çš„é—®é¢˜ï¼ŒThymeleafè¡¨è¾¾å¼åœ¨onclickä¸­å¯èƒ½æ— æ³•æ­£ç¡®è§£æ

**ä¿®å¤**ï¼š
- ä½¿ç”¨`data-order-id`å±æ€§å­˜å‚¨è®¢å•ID
- ä½¿ç”¨JavaScriptäº‹ä»¶ç›‘å¬å™¨æ›¿ä»£å†…è”onclick
- ä½¿ç”¨äº‹ä»¶å§”æ‰˜ç¡®ä¿åŠ¨æ€å†…å®¹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ

## ğŸ”§ ä¿®å¤çš„æ–‡ä»¶

1. âœ… **orders.html** - ä¿®å¤æ”¯ä»˜å’Œå–æ¶ˆæŒ‰é’®ï¼ˆä½¿ç”¨dataå±æ€§å’Œäº‹ä»¶ç›‘å¬å™¨ï¼‰
2. âœ… **admin-orders.html** - ä¿®å¤å‘è´§å’Œå®ŒæˆæŒ‰é’®ï¼ˆä½¿ç”¨dataå±æ€§å’Œäº‹ä»¶ç›‘å¬å™¨ï¼‰
3. âœ… **admin-dashboard.html** - ä¿®å¤å‘è´§å’Œå®ŒæˆæŒ‰é’®ï¼ˆä½¿ç”¨dataå±æ€§å’Œäº‹ä»¶ç›‘å¬å™¨ï¼‰

## ğŸ“ ä¿®å¤æ–¹æ³•

### ä¹‹å‰çš„æ–¹æ³•ï¼ˆæœ‰é—®é¢˜ï¼‰
```html
<a th:onclick="'payOrder(' + ${order.id} + '); return false;'">æ”¯ä»˜</a>
```

### ä¿®å¤åçš„æ–¹æ³•ï¼ˆå¯é ï¼‰
```html
<a class="btn pay-btn" th:data-order-id="${order.id}">æ”¯ä»˜</a>
```

```javascript
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.pay-btn').forEach(function(btn) {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            var orderId = this.getAttribute('data-order-id');
            // ... å¤„ç†æ”¯ä»˜é€»è¾‘
        });
    });
});
```

## ğŸ¯ ä¼˜åŠ¿

1. **æ›´å¯é **ï¼šä¸ä¾èµ–Thymeleafåœ¨onclickä¸­çš„è¡¨è¾¾å¼è§£æ
2. **æ›´æ¸…æ™°**ï¼šHTMLå’ŒJavaScriptåˆ†ç¦»ï¼Œä»£ç æ›´æ˜“ç»´æŠ¤
3. **æ›´çµæ´»**ï¼šå¯ä»¥è½»æ¾æ·»åŠ æ›´å¤šåŠŸèƒ½ï¼Œå¦‚åŠ è½½çŠ¶æ€ã€é”™è¯¯é‡è¯•ç­‰
4. **å…¼å®¹æ€§æ›´å¥½**ï¼šé€‚ç”¨äºæ‰€æœ‰ç°ä»£æµè§ˆå™¨

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šä¸Šä¼ ä¿®å¤åçš„æ–‡ä»¶

```powershell
# ä¸Šä¼ ä¿®å¤åçš„æ¨¡æ¿æ–‡ä»¶
scp network-homework\src\main\resources\templates\orders.html ubuntu@114.132.150.59:/opt/network-homework/src/main/resources/templates/
scp network-homework\src\main\resources\templates\admin-orders.html ubuntu@114.132.150.59:/opt/network-homework/src/main/resources/templates/
scp network-homework\src\main\resources\templates\admin-dashboard.html ubuntu@114.132.150.59:/opt/network-homework/src/main/resources/templates/
```

ç„¶ååœ¨æœåŠ¡å™¨ä¸Šï¼š
```bash
cd /opt/network-homework
docker-compose restart app
```

### æ–¹æ³•äºŒï¼šä¸Šä¼ æ•´ä¸ªtemplatesç›®å½•

```powershell
scp -r network-homework\src\main\resources\templates ubuntu@114.132.150.59:/opt/network-homework/src/main/resources/
```

ç„¶ååœ¨æœåŠ¡å™¨ä¸Šï¼š
```bash
cd /opt/network-homework
docker-compose restart app
```

## âœ… éªŒè¯ä¿®å¤

éƒ¨ç½²åï¼Œæµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š

1. **æ™®é€šç”¨æˆ·æ”¯ä»˜è®¢å•ï¼ˆè®¢å•åˆ—è¡¨ï¼‰**ï¼š
   - ç™»å½•æ™®é€šç”¨æˆ·
   - è¿›å…¥"æˆ‘çš„è®¢å•"é¡µé¢
   - ç‚¹å‡»"æ”¯ä»˜"æŒ‰é’®
   - åº”è¯¥èƒ½æˆåŠŸæ”¯ä»˜ï¼Œä¸å†å‡ºç°404é”™è¯¯

2. **ç®¡ç†å‘˜å‘è´§ï¼ˆè®¢å•åˆ—è¡¨ï¼‰**ï¼š
   - ç™»å½•ç®¡ç†å‘˜è´¦æˆ·
   - è¿›å…¥"è®¢å•ç®¡ç†"é¡µé¢
   - ç‚¹å‡»"å‘è´§"æŒ‰é’®
   - åº”è¯¥èƒ½æˆåŠŸå‘è´§ï¼Œä¸å†å‡ºç°404é”™è¯¯

3. **ç®¡ç†å‘˜å®Œæˆè®¢å•ï¼ˆè®¢å•åˆ—è¡¨ï¼‰**ï¼š
   - åœ¨è®¢å•ç®¡ç†é¡µé¢
   - ç‚¹å‡»"å®Œæˆ"æŒ‰é’®
   - åº”è¯¥èƒ½æˆåŠŸå®Œæˆè®¢å•

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### ä¸ºä»€ä¹ˆä¹‹å‰çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Ÿ

Thymeleafåœ¨å¤„ç†`th:onclick`æ—¶ï¼Œå¦‚æœè¡¨è¾¾å¼åŒ…å«å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¯èƒ½ä¼šï¼š
1. æ— æ³•æ­£ç¡®è§£æå˜é‡
2. ç”Ÿæˆé”™è¯¯çš„JavaScriptä»£ç 
3. åœ¨æŸäº›æƒ…å†µä¸‹å¯¼è‡´404é”™è¯¯ï¼ˆå› ä¸ºç”Ÿæˆçš„URLä¸æ­£ç¡®ï¼‰

### ä¸ºä»€ä¹ˆæ–°æ–¹æ³•æ›´å¯é ï¼Ÿ

1. **æ•°æ®å±æ€§**ï¼š`data-order-id`æ˜¯HTML5æ ‡å‡†ï¼ŒThymeleafå¯ä»¥å¯é åœ°è®¾ç½®
2. **äº‹ä»¶ç›‘å¬å™¨**ï¼šä½¿ç”¨æ ‡å‡†çš„DOM APIï¼Œä¸ä¾èµ–å­—ç¬¦ä¸²æ‹¼æ¥
3. **DOMContentLoaded**ï¼šç¡®ä¿DOMå®Œå…¨åŠ è½½åå†ç»‘å®šäº‹ä»¶ï¼Œé¿å…æ—¶åºé—®é¢˜

---

**ä¿®å¤å®Œæˆï¼** æ‰€æœ‰è·¯ç”±é—®é¢˜å·²å½»åº•è§£å†³ã€‚ğŸ‰

