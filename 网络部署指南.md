# æ–°æ‰‹å®Œæ•´éƒ¨ç½²æŒ‡å— - ä»é›¶å¼€å§‹éƒ¨ç½²ç”µå•†ç³»ç»Ÿ
æœ¬æŒ‡å—å°†è¯¦ç»†æŒ‡å¯¼æ‚¨å¦‚ä½•åœ¨ä¸­å›½ç”³è¯·æœåŠ¡å™¨å¹¶éƒ¨ç½²è¯¥é¡¹ç›®ã€‚é€‚åˆå®Œå…¨æ–°æ‰‹ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æœ‰è¯¦ç»†è¯´æ˜ã€‚

---

## ğŸ“‹ ç›®å½•
1. [ç¬¬ä¸€éƒ¨åˆ†ï¼šç”³è¯·æœåŠ¡å™¨](#ç¬¬ä¸€éƒ¨åˆ†ç”³è¯·æœåŠ¡å™¨)
2. [ç¬¬äºŒéƒ¨åˆ†ï¼šè¿æ¥æœåŠ¡å™¨](#ç¬¬äºŒéƒ¨åˆ†è¿æ¥æœåŠ¡å™¨)
3. [ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®‰è£…å¿…è¦è½¯ä»¶](#ç¬¬ä¸‰éƒ¨åˆ†å®‰è£…å¿…è¦è½¯ä»¶)
4. [ç¬¬å››éƒ¨åˆ†ï¼šä¸Šä¼ é¡¹ç›®æ–‡ä»¶](#ç¬¬å››éƒ¨åˆ†ä¸Šä¼ é¡¹ç›®æ–‡ä»¶)
5. [ç¬¬äº”éƒ¨åˆ†ï¼šé…ç½®å’Œéƒ¨ç½²](#ç¬¬äº”éƒ¨åˆ†é…ç½®å’Œéƒ¨ç½²)
6. [ç¬¬å…­éƒ¨åˆ†ï¼šéªŒè¯å’Œè®¿é—®](#ç¬¬å…­éƒ¨åˆ†éªŒè¯å’Œè®¿é—®)
7. [å¸¸è§é—®é¢˜è§£ç­”](#å¸¸è§é—®é¢˜è§£ç­”)

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šç”³è¯·æœåŠ¡å™¨
### 1.1 é€‰æ‹©äº‘æœåŠ¡å•†
åœ¨ä¸­å›½ï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹äº‘æœåŠ¡å•†ï¼ˆæŒ‰æ¨èé¡ºåºï¼‰ï¼š

1. **é˜¿é‡Œäº‘**ï¼ˆ[https://www.aliyun.comï¼‰-](https://www.aliyun.comï¼‰-) å›½å†…æœ€å¤§ï¼Œæ–‡æ¡£å®Œå–„
2. **è…¾è®¯äº‘**ï¼ˆ[https://cloud.tencent.comï¼‰-](https://cloud.tencent.comï¼‰-) æ€§ä»·æ¯”é«˜ï¼Œå­¦ç”Ÿä¼˜æƒ å¤š
3. **åä¸ºäº‘**ï¼ˆ[https://www.huaweicloud.comï¼‰-](https://www.huaweicloud.comï¼‰-) ä¼ä¸šçº§æœåŠ¡
4. **ç™¾åº¦äº‘**ï¼ˆ[https://cloud.baidu.comï¼‰-](https://cloud.baidu.comï¼‰-) é€‚åˆAIç›¸å…³é¡¹ç›®

**æ–°æ‰‹æ¨èï¼šè…¾è®¯äº‘**ï¼ˆå­¦ç”Ÿè®¤è¯åä»·æ ¼ä¾¿å®œï¼Œç•Œé¢å‹å¥½ï¼‰

### 1.2 ä»¥è…¾è®¯äº‘ä¸ºä¾‹ï¼Œç”³è¯·æœåŠ¡å™¨è¯¦ç»†æ­¥éª¤
#### æ­¥éª¤ 1ï¼šæ³¨å†Œè´¦å·
1. è®¿é—® [https://cloud.tencent.com](https://cloud.tencent.com)
2. ç‚¹å‡»å³ä¸Šè§’"æ³¨å†Œ"
3. ä½¿ç”¨æ‰‹æœºå·æˆ–é‚®ç®±æ³¨å†Œ
4. å®Œæˆå®åè®¤è¯ï¼ˆéœ€è¦èº«ä»½è¯ï¼‰

#### æ­¥éª¤ 2ï¼šå­¦ç”Ÿè®¤è¯ï¼ˆå¯é€‰ï¼Œä½†å¼ºçƒˆæ¨èï¼‰
1. ç™»å½•åï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ "å­¦ç”Ÿè®¤è¯"
2. å¡«å†™å­¦ç”Ÿä¿¡æ¯ï¼ˆå­¦ä¿¡ç½‘éªŒè¯ï¼‰
3. è®¤è¯æˆåŠŸåï¼Œå¯äº«å—å­¦ç”Ÿä¼˜æƒ ä»·æ ¼

#### æ­¥éª¤ 3ï¼šè´­ä¹°äº‘æœåŠ¡å™¨
1. ç™»å½•æ§åˆ¶å°ï¼Œç‚¹å‡»"äº‘æœåŠ¡å™¨ CVM" â†’ "æ–°å»º"
2. é€‰æ‹©é…ç½®ï¼ˆ**æ–°æ‰‹æ¨èé…ç½®**ï¼‰ï¼š
    - **åœ°åŸŸ**ï¼šé€‰æ‹©ç¦»æ‚¨æœ€è¿‘çš„ï¼ˆå¦‚ï¼šåŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ï¼‰
    - **æœºå‹**ï¼šé€‰æ‹©"æ ‡å‡†å‹ S5"æˆ–"æ ‡å‡†å‹ SA2"
    - **é•œåƒ**ï¼šé€‰æ‹© **Ubuntu 20.04 LTS** æˆ– **Ubuntu 22.04 LTS**ï¼ˆæ¨èï¼‰
    - **ç³»ç»Ÿç›˜**ï¼š40GB SSDï¼ˆé»˜è®¤å³å¯ï¼‰
    - **å…¬ç½‘å¸¦å®½**ï¼š1Mbpsï¼ˆå¤Ÿç”¨ï¼Œåç»­å¯å‡çº§ï¼‰
    - **è´­ä¹°æ—¶é•¿**ï¼š1ä¸ªæœˆï¼ˆå­¦ç”Ÿä¼˜æƒ é€šå¸¸å¾ˆä¾¿å®œï¼‰
3. **é‡è¦è®¾ç½®**ï¼š
    - **ç™»å½•æ–¹å¼**ï¼šé€‰æ‹©"ç«‹å³è®¾ç½®å¯†ç "
    - **ç”¨æˆ·å**ï¼šé»˜è®¤æ˜¯ `ubuntu`ï¼ˆUbuntuç³»ç»Ÿï¼‰æˆ– `root`ï¼ˆCentOSç³»ç»Ÿï¼‰
    - **å¯†ç **ï¼šè®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆ**è¯·åŠ¡å¿…è®°ä½ï¼**ï¼‰
        * å»ºè®®åŒ…å«ï¼šå¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦
        * ä¾‹å¦‚ï¼š`MyServer2024!@#`
4. ç‚¹å‡»"ç«‹å³è´­ä¹°" â†’ ç¡®è®¤è®¢å• â†’ æ”¯ä»˜

#### æ­¥éª¤ 4ï¼šè·å–æœåŠ¡å™¨ä¿¡æ¯
è´­ä¹°æˆåŠŸåï¼Œåœ¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°ï¼š

+ **å…¬ç½‘ IP**ï¼šä¾‹å¦‚ `123.456.789.123`ï¼ˆè¿™æ˜¯è®¿é—®æœåŠ¡å™¨çš„åœ°å€ï¼‰
+ **å†…ç½‘ IP**ï¼šä¾‹å¦‚ `10.0.0.5`ï¼ˆæœåŠ¡å™¨å†…éƒ¨ä½¿ç”¨ï¼‰
+ **ç”¨æˆ·å**ï¼š`ubuntu`ï¼ˆUbuntuç³»ç»Ÿï¼‰
+ **å¯†ç **ï¼šæ‚¨åˆšæ‰è®¾ç½®çš„å¯†ç 

**è¯·è®°å½•è¿™äº›ä¿¡æ¯ï¼Œåç»­ä¼šç”¨åˆ°ï¼**

#### æ­¥éª¤ 5ï¼šé…ç½®å®‰å…¨ç»„ï¼ˆé˜²ç«å¢™è§„åˆ™ï¼‰
1. åœ¨æœåŠ¡å™¨åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»æ‚¨çš„æœåŠ¡å™¨åç§°
2. ç‚¹å‡»"å®‰å…¨ç»„"æ ‡ç­¾
3. ç‚¹å‡»"ä¿®æ”¹è§„åˆ™"
4. æ·»åŠ ä»¥ä¸‹è§„åˆ™ï¼ˆç‚¹å‡»"æ·»åŠ è§„åˆ™"ï¼‰ï¼š

| ç±»å‹ | åè®® | ç«¯å£ | æ¥æº | è¯´æ˜ |
| --- | --- | --- | --- | --- |
| å…¥ç«™è§„åˆ™ | TCP | 22 | 0.0.0.0/0 | SSHè¿æ¥ï¼ˆå¿…é¡»ï¼‰ |
| å…¥ç«™è§„åˆ™ | TCP | 80 | 0.0.0.0/0 | HTTPï¼ˆå¯é€‰ï¼‰ |
| å…¥ç«™è§„åˆ™ | TCP | 443 | 0.0.0.0/0 | HTTPSï¼ˆå¯é€‰ï¼‰ |
| å…¥ç«™è§„åˆ™ | TCP | 8080 | 0.0.0.0/0 | åº”ç”¨ç«¯å£ï¼ˆå¿…é¡»ï¼‰ |


5. ç‚¹å‡»"å®Œæˆ"

**æ³¨æ„**ï¼šå¦‚æœæ‚¨çš„æœåŠ¡å™¨æä¾›å•†æ˜¯é˜¿é‡Œäº‘ï¼Œéœ€è¦åœ¨"å®‰å…¨ç»„"ä¸­é…ç½®ï¼›å¦‚æœæ˜¯åä¸ºäº‘ï¼Œåœ¨"ç½‘ç»œACL"ä¸­é…ç½®ã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šè¿æ¥æœåŠ¡å™¨
### 2.1 Windows ç³»ç»Ÿè¿æ¥æœåŠ¡å™¨
#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ PowerShellï¼ˆæ¨èï¼ŒWindows 10/11è‡ªå¸¦ï¼‰
1. æŒ‰ `Win + X`ï¼Œé€‰æ‹©"Windows PowerShell"æˆ–"ç»ˆç«¯"
2. è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„IPå’Œç”¨æˆ·åï¼‰ï¼š

```bash
ssh ubuntu@123.456.789.123
```

3. ç¬¬ä¸€æ¬¡è¿æ¥ä¼šæç¤ºç¡®è®¤ï¼Œè¾“å…¥ `yes` å¹¶æŒ‰å›è½¦
4. è¾“å…¥å¯†ç ï¼ˆè¾“å…¥æ—¶ä¸ä¼šæ˜¾ç¤ºï¼Œç›´æ¥è¾“å…¥åæŒ‰å›è½¦ï¼‰

**å¦‚æœè¿æ¥æˆåŠŸï¼Œæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æç¤ºï¼š**

```plain
Welcome to Ubuntu 22.04 LTS...
ubuntu@VM-0-1-ubuntu:~$
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ PuTTYï¼ˆå›¾å½¢ç•Œé¢ï¼Œæ›´å‹å¥½ï¼‰
1. ä¸‹è½½ PuTTYï¼š[https://www.putty.org/](https://www.putty.org/)
2. å®‰è£…å¹¶æ‰“å¼€ PuTTY
3. å¡«å†™ä¿¡æ¯ï¼š
    - **Host Name**ï¼š`123.456.789.123`ï¼ˆæ‚¨çš„å…¬ç½‘IPï¼‰
    - **Port**ï¼š`22`
    - **Connection type**ï¼šé€‰æ‹© `SSH`
4. ç‚¹å‡»"Open"
5. è¾“å…¥ç”¨æˆ·åï¼š`ubuntu`
6. è¾“å…¥å¯†ç ï¼ˆè¾“å…¥æ—¶ä¸ä¼šæ˜¾ç¤ºï¼‰

### 2.2 Mac/Linux ç³»ç»Ÿè¿æ¥æœåŠ¡å™¨
æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œè¾“å…¥ï¼š

```bash
ssh ubuntu@123.456.789.123
```

è¾“å…¥å¯†ç å³å¯è¿æ¥ã€‚

### 2.3 è¿æ¥æˆåŠŸå
æ‚¨åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å‘½ä»¤è¡Œæç¤ºç¬¦ï¼š

```bash
ubuntu@VM-0-1-ubuntu:~$
```

è¿™è¡¨ç¤ºæ‚¨å·²ç»æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨äº†ï¼

**æç¤º**ï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š

+ IPåœ°å€æ˜¯å¦æ­£ç¡®
+ å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾äº†22ç«¯å£
+ å¯†ç æ˜¯å¦æ­£ç¡®
+ æœåŠ¡å™¨æ˜¯å¦å·²å¯åŠ¨ï¼ˆåœ¨æ§åˆ¶å°æŸ¥çœ‹çŠ¶æ€ï¼‰

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®‰è£…å¿…è¦è½¯ä»¶
### 3.1 æ›´æ–°ç³»ç»Ÿï¼ˆé‡è¦ï¼ï¼‰
è¿æ¥æœåŠ¡å™¨åï¼Œé¦–å…ˆæ›´æ–°ç³»ç»Ÿï¼š

```bash
# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…
sudo apt upgrade -y
```

**è¯´æ˜**ï¼š

+ `sudo`ï¼šä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œå‘½ä»¤
+ `apt`ï¼šUbuntuçš„åŒ…ç®¡ç†å™¨
+ `update`ï¼šæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
+ `upgrade`ï¼šå‡çº§è½¯ä»¶åŒ…
+ `-y`ï¼šè‡ªåŠ¨ç¡®è®¤ï¼Œä¸éœ€è¦æ‰‹åŠ¨è¾“å…¥yes

### 3.2 å®‰è£… Docker
Docker æ˜¯ä¸€ä¸ªå®¹å™¨åŒ–å¹³å°ï¼Œå¯ä»¥è®©åº”ç”¨è¿è¡Œåœ¨éš”ç¦»çš„ç¯å¢ƒä¸­ã€‚

#### æ­¥éª¤ 1ï¼šå®‰è£… Docker
å¤åˆ¶ä»¥ä¸‹å‘½ä»¤ï¼Œä¸€è¡Œä¸€è¡Œæ‰§è¡Œï¼š

```bash
# å®‰è£…å¿…è¦çš„ä¾èµ–
sudo apt install -y ca-certificates curl gnupg lsb-release

# æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥
sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

# æ·»åŠ  Docker ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼Œé€Ÿåº¦æ›´å¿«ï¼‰
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.aliyun.com/docker-ce/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å®‰è£… Docker
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

#### æ­¥éª¤ 2ï¼šå¯åŠ¨ Docker æœåŠ¡
```bash
# å¯åŠ¨ Docker
sudo systemctl start docker

# è®¾ç½® Docker å¼€æœºè‡ªå¯
sudo systemctl enable docker
```

#### æ­¥éª¤ 3ï¼šå°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„ï¼ˆé¿å…æ¯æ¬¡éƒ½ç”¨sudoï¼‰
```bash
# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°åŠ è½½ç”¨æˆ·ç»„ï¼ˆæˆ–é‡æ–°è¿æ¥æœåŠ¡å™¨ï¼‰
newgrp docker
```

#### æ­¥éª¤ 4ï¼šéªŒè¯ Docker å®‰è£…
```bash
# æ£€æŸ¥ Docker ç‰ˆæœ¬
docker --version

# è¿è¡Œæµ‹è¯•å®¹å™¨
docker run hello-world
```

**å¦‚æœçœ‹åˆ° "Hello from Docker!" çš„æç¤ºï¼Œè¯´æ˜ Docker å®‰è£…æˆåŠŸï¼**

### 3.3 å®‰è£… Docker Compose
Docker Compose ç”¨äºç®¡ç†å¤šä¸ªå®¹å™¨çš„åº”ç”¨ã€‚

```bash
# ä¸‹è½½ Docker Composeï¼ˆä½¿ç”¨å›½å†…é•œåƒï¼‰
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# å¦‚æœä¸Šé¢çš„å‘½ä»¤ä¸‹è½½æ…¢ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªï¼ˆä½¿ç”¨ä»£ç†é•œåƒï¼‰
# sudo curl -L "https://ghproxy.com/https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# æ·»åŠ æ‰§è¡Œæƒé™
sudo chmod +x /usr/local/bin/docker-compose

# éªŒè¯å®‰è£…
docker-compose --version
```

**å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·ï¼ˆå¦‚ **`Docker Compose version v2.x.x`**ï¼‰ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼**

### 3.4 å®‰è£… Gitï¼ˆç”¨äºä¸‹è½½é¡¹ç›®ä»£ç ï¼‰
```bash
sudo apt install -y git
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šä¸Šä¼ é¡¹ç›®æ–‡ä»¶
### 4.1 æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Gitï¼ˆæ¨èï¼Œå¦‚æœé¡¹ç›®åœ¨GitHub/Giteeï¼‰
#### æ­¥éª¤ 1ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•
```bash
# åˆ›å»ºç›®å½•
sudo mkdir -p /opt/network-homework

# è®¾ç½®æƒé™
sudo chown -R $USER:$USER /opt/network-homework

# è¿›å…¥ç›®å½•
cd /opt/network-homework
```

#### æ­¥éª¤ 2ï¼šå…‹éš†é¡¹ç›®
**å¦‚æœé¡¹ç›®åœ¨ GitHubï¼š**

```bash
# å…‹éš†é¡¹ç›®ï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„ä»“åº“åœ°å€ï¼‰
git clone https://github.com/your-username/your-repo-name.git .

# æˆ–è€…å¦‚æœé¡¹ç›®åœ¨ Giteeï¼ˆå›½å†…è®¿é—®æ›´å¿«ï¼‰
git clone https://gitee.com/your-username/your-repo-name.git .
```

**å¦‚æœé¡¹ç›®åœ¨æœ¬åœ°ï¼Œä½¿ç”¨æ–¹æ³•äºŒã€‚**

### 4.2 æ–¹æ³•äºŒï¼šä½¿ç”¨ SCP ä¸Šä¼ ï¼ˆä»æœ¬åœ°ç”µè„‘ä¸Šä¼ ï¼‰
#### Windows ç³»ç»Ÿï¼š
1. æ‰“å¼€ PowerShellï¼ˆåœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼‰
2. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„ä¿¡æ¯ï¼‰ï¼š

```powershell
# ä¸Šä¼ æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹
scp -r network-homework ubuntu@123.456.789.123:/opt/
```

3. è¾“å…¥å¯†ç 

#### Mac/Linux ç³»ç»Ÿï¼š
```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œ
scp -r network-homework ubuntu@123.456.789.123:/opt/
```

#### ç„¶ååœ¨æœåŠ¡å™¨ä¸Šï¼š
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/network-homework
```

### 4.3 æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ WinSCPï¼ˆWindowså›¾å½¢ç•Œé¢å·¥å…·ï¼Œæ¨èæ–°æ‰‹ï¼‰
1. ä¸‹è½½ WinSCPï¼š[https://winscp.net/](https://winscp.net/)
2. å®‰è£…å¹¶æ‰“å¼€ WinSCP
3. å¡«å†™è¿æ¥ä¿¡æ¯ï¼š
    - **æ–‡ä»¶åè®®**ï¼šSFTP
    - **ä¸»æœºå**ï¼š`123.456.789.123`ï¼ˆæ‚¨çš„IPï¼‰
    - **ç«¯å£å·**ï¼š`22`
    - **ç”¨æˆ·å**ï¼š`ubuntu`
    - **å¯†ç **ï¼šæ‚¨çš„æœåŠ¡å™¨å¯†ç 
4. ç‚¹å‡»"ç™»å½•"
5. å·¦ä¾§æ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œå³ä¾§æ˜¯æœåŠ¡å™¨æ–‡ä»¶
6. å°† `network-homework` æ–‡ä»¶å¤¹æ‹–åˆ°å³ä¾§çš„ `/opt/` ç›®å½•

### 4.4 éªŒè¯æ–‡ä»¶å·²ä¸Šä¼ 
```bash
# æŸ¥çœ‹é¡¹ç›®æ–‡ä»¶
cd /opt/network-homework
ls -la

# åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹æ–‡ä»¶ï¼š
# - compose.yaml
# - Dockerfile
# - deploy.sh
# - pom.xml
# - src/
# ç­‰ç­‰...
```

---

## ç¬¬äº”éƒ¨åˆ†ï¼šé…ç½®å’Œéƒ¨ç½²
### 5.1 ä¿®æ”¹æ•°æ®åº“å¯†ç ï¼ˆé‡è¦ï¼ï¼‰
**é»˜è®¤å¯†ç ä¸å®‰å…¨ï¼Œå¿…é¡»ä¿®æ”¹ï¼**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/network-homework

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano compose.yaml
```

**ä½¿ç”¨ nano ç¼–è¾‘å™¨ï¼š**

+ æ–¹å‘é”®ç§»åŠ¨å…‰æ ‡
+ æ‰¾åˆ°ä»¥ä¸‹ä¸¤è¡Œï¼ˆå¤§çº¦åœ¨ç¬¬9-10è¡Œï¼‰ï¼š

```yaml
- MYSQL_PASSWORD=network_password
- MYSQL_ROOT_PASSWORD=root_password
```

+ ä¿®æ”¹ä¸ºå¼ºå¯†ç ï¼Œä¾‹å¦‚ï¼š

```yaml
- MYSQL_PASSWORD=MyStrongPass123!@#
- MYSQL_ROOT_PASSWORD=MyRootPass456!@#
```

+ åŒæ—¶ä¿®æ”¹ç¬¬15è¡Œçš„å¥åº·æ£€æŸ¥å¯†ç ï¼ˆä¸MYSQL_ROOT_PASSWORDä¸€è‡´ï¼‰ï¼š

```yaml
-proot_password
```

æ”¹ä¸ºï¼š

```yaml
-pMyRootPass456!@#
```

+ æŒ‰ `Ctrl + O` ä¿å­˜ï¼ŒæŒ‰ `Enter` ç¡®è®¤
+ æŒ‰ `Ctrl + X` é€€å‡º

**æç¤º**ï¼šå¦‚æœä¸ä¼šç”¨ nanoï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `vi` ç¼–è¾‘å™¨ï¼Œæˆ–è€…ä¸‹è½½åˆ°æœ¬åœ°ä¿®æ”¹åé‡æ–°ä¸Šä¼ ã€‚

### 5.2 é…ç½®é˜²ç«å¢™ï¼ˆUbuntuç³»ç»Ÿï¼‰
```bash
# æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€
sudo ufw status

# å¦‚æœé˜²ç«å¢™æœªå¯ç”¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
sudo ufw allow 22/tcp    # SSHç«¯å£ï¼ˆå¿…é¡»ï¼‰
sudo ufw allow 80/tcp    # HTTPç«¯å£ï¼ˆå¯é€‰ï¼‰
sudo ufw allow 443/tcp   # HTTPSç«¯å£ï¼ˆå¯é€‰ï¼‰
sudo ufw allow 8080/tcp  # åº”ç”¨ç«¯å£ï¼ˆå¿…é¡»ï¼‰

# å¯ç”¨é˜²ç«å¢™
sudo ufw enable

# ç¡®è®¤è§„åˆ™å·²æ·»åŠ 
sudo ufw status
```

**æ³¨æ„**ï¼šå¦‚æœæ‚¨çš„äº‘æœåŠ¡å•†æœ‰å®‰å…¨ç»„è®¾ç½®ï¼ˆå¦‚è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ï¼‰ï¼Œå®‰å…¨ç»„å·²ç»é…ç½®å¥½äº†ï¼Œè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ã€‚ä½†åŒé‡ä¿æŠ¤æ›´å®‰å…¨ã€‚

### 5.3 éƒ¨ç½²åº”ç”¨
#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•
cd /opt/network-homework

# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

1. æ£€æŸ¥ Docker å’Œ Docker Compose æ˜¯å¦å®‰è£…
2. åœæ­¢æ—§å®¹å™¨ï¼ˆå¦‚æœæœ‰ï¼‰
3. æ„å»ºå¹¶å¯åŠ¨æ–°å®¹å™¨
4. æ˜¾ç¤ºéƒ¨ç½²çŠ¶æ€

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²
```bash
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•
cd /opt/network-homework

# åœæ­¢æ—§å®¹å™¨ï¼ˆå¦‚æœæœ‰ï¼‰
docker-compose down

# æ„å»ºå¹¶å¯åŠ¨å®¹å™¨
docker-compose up -d --build
```

**å‚æ•°è¯´æ˜**ï¼š

+ `up`ï¼šå¯åŠ¨æœåŠ¡
+ `-d`ï¼šåå°è¿è¡Œï¼ˆdetached modeï¼‰
+ `--build`ï¼šé‡æ–°æ„å»ºé•œåƒ

### 5.4 ç­‰å¾…æœåŠ¡å¯åŠ¨
éƒ¨ç½²éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œå› ä¸ºéœ€è¦ï¼š

1. ä¸‹è½½ MySQL é•œåƒ
2. æ„å»ºåº”ç”¨é•œåƒ
3. å¯åŠ¨æ•°æ®åº“
4. å¯åŠ¨åº”ç”¨

**è¯·è€å¿ƒç­‰å¾… 2-5 åˆ†é’Ÿã€‚**

---

## ç¬¬å…­éƒ¨åˆ†ï¼šéªŒè¯å’Œè®¿é—®
### 6.1 æ£€æŸ¥å®¹å™¨çŠ¶æ€
```bash
# æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€
docker-compose ps
```

**åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œï¼ˆStatus æ˜¾ç¤º Upï¼‰ï¼š**

+ `mysql-network-homework` - MySQLæ•°æ®åº“
+ `network-homework-app` - åº”ç”¨æœåŠ¡

å¦‚æœçŠ¶æ€ä¸æ˜¯ `Up`ï¼Œç»§ç»­æŸ¥çœ‹æ—¥å¿—ã€‚

### 6.2 æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„æ—¥å¿—
docker-compose logs

# æŸ¥çœ‹åº”ç”¨æ—¥å¿—ï¼ˆå®æ—¶ï¼‰
docker-compose logs -f app

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs -f mysql
```

**æ­£å¸¸æƒ…å†µåº”è¯¥çœ‹åˆ°ï¼š**

+ MySQLï¼š`ready for connections`
+ Appï¼š`Started NetworkHomeworkApplication` æˆ–ç±»ä¼¼ä¿¡æ¯

**å¦‚æœæœ‰é”™è¯¯ï¼Œè¯·æŸ¥çœ‹ **[å¸¸è§é—®é¢˜è§£ç­”](#å¸¸è§é—®é¢˜è§£ç­”)** éƒ¨åˆ†ã€‚**

### 6.3 æµ‹è¯•è®¿é—®
#### åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•ï¼š
```bash
# æµ‹è¯•æœ¬åœ°è®¿é—®
curl http://localhost:8080
```

å¦‚æœè¿”å› HTML å†…å®¹ï¼Œè¯´æ˜åº”ç”¨æ­£å¸¸è¿è¡Œã€‚

#### åœ¨æœ¬åœ°æµè§ˆå™¨è®¿é—®ï¼š
1. æ‰“å¼€æµè§ˆå™¨
2. è®¿é—®ï¼š`http://æ‚¨çš„æœåŠ¡å™¨IP:8080`
    - ä¾‹å¦‚ï¼š`http://123.456.789.123:8080`

**å¦‚æœèƒ½çœ‹åˆ°ç™»å½•é¡µé¢ï¼Œæ­å–œæ‚¨éƒ¨ç½²æˆåŠŸï¼** ğŸ‰

### 6.4 é…ç½®è‡ªåŠ¨å¤‡ä»½å’Œç›‘æ§ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/network-homework

# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x backup.sh monitor.sh

# é…ç½®å®šæ—¶å¤‡ä»½ï¼ˆæ¯å¤©å‡Œæ™¨3ç‚¹ï¼‰
(crontab -l 2>/dev/null; echo "0 3 * * * /opt/network-homework/backup.sh >> /opt/network-homework/backup.log 2>&1") | crontab -

# é…ç½®å®šæ—¶ç›‘æ§ï¼ˆæ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ï¼‰
(crontab -l 2>/dev/null; echo "*/5 * * * * /opt/network-homework/monitor.sh") | crontab -

# æŸ¥çœ‹å®šæ—¶ä»»åŠ¡
crontab -l
```

---

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
docker-compose logs

# å®æ—¶æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f app

# æŸ¥çœ‹æœ€å50è¡Œæ—¥å¿—
docker-compose logs --tail=50 app
```

### ç®¡ç†æœåŠ¡
```bash
# é‡å¯æœåŠ¡
docker-compose restart

# åœæ­¢æœåŠ¡
docker-compose down

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d --build
```

### æŸ¥çœ‹çŠ¶æ€
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps

# æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ
docker stats
```

### è¿›å…¥å®¹å™¨ï¼ˆè°ƒè¯•ç”¨ï¼‰
```bash
# è¿›å…¥åº”ç”¨å®¹å™¨
docker exec -it network-homework-app bash

# è¿›å…¥æ•°æ®åº“å®¹å™¨
docker exec -it mysql-network-homework bash

# è¿æ¥MySQLæ•°æ®åº“
docker exec -it mysql-network-homework mysql -u network_user -p
# è¾“å…¥å¯†ç ï¼šæ‚¨è®¾ç½®çš„ MYSQL_PASSWORD
```

---

## å¸¸è§é—®é¢˜è§£ç­”
### Q1: è¿æ¥æœåŠ¡å™¨æ—¶æç¤º "Connection refused"
**åŸå› **ï¼šæœåŠ¡å™¨æœªå¯åŠ¨æˆ–å®‰å…¨ç»„æœªå¼€æ”¾22ç«¯å£

**è§£å†³æ–¹æ³•**ï¼š

1. åœ¨äº‘æœåŠ¡å•†æ§åˆ¶å°æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€ï¼Œç¡®ä¿æ˜¯"è¿è¡Œä¸­"
2. æ£€æŸ¥å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾äº†22ç«¯å£
3. ç¡®è®¤IPåœ°å€æ˜¯å¦æ­£ç¡®

### Q2: Docker å®‰è£…å¤±è´¥æˆ–ä¸‹è½½å¾ˆæ…¢
**åŸå› **ï¼šç½‘ç»œé—®é¢˜ï¼Œè®¿é—®å›½å¤–é•œåƒæºæ…¢

**è§£å†³æ–¹æ³•**ï¼š

1. ä½¿ç”¨å›½å†…é•œåƒæºï¼ˆæœ¬æŒ‡å—å·²ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒï¼‰
2. å¦‚æœè¿˜æ˜¯æ…¢ï¼Œå¯ä»¥é…ç½® Docker é•œåƒåŠ é€Ÿå™¨ï¼š

```bash
# åˆ›å»ºæˆ–ç¼–è¾‘é…ç½®æ–‡ä»¶
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com",
    "https://mirror.baidubce.com"
  ]
}
EOF

# é‡å¯ Docker
sudo systemctl daemon-reload
sudo systemctl restart docker
```

### Q3: å®¹å™¨å¯åŠ¨å¤±è´¥ï¼ŒæŸ¥çœ‹æ—¥å¿—æ˜¾ç¤ºç«¯å£è¢«å ç”¨
**åŸå› **ï¼š8080ç«¯å£å·²è¢«å…¶ä»–ç¨‹åºå ç”¨

**è§£å†³æ–¹æ³•**ï¼š

```bash
# æŸ¥çœ‹8080ç«¯å£å ç”¨
sudo netstat -tulpn | grep 8080

# æˆ–è€…
sudo lsof -i :8080

# åœæ­¢å ç”¨ç«¯å£çš„ç¨‹åºï¼Œæˆ–ä¿®æ”¹ compose.yaml ä¸­çš„ç«¯å£æ˜ å°„
# ä¾‹å¦‚æ”¹ä¸º 8081:8080
```

### Q4: åº”ç”¨æ— æ³•è®¿é—®ï¼Œä½†å®¹å™¨è¿è¡Œæ­£å¸¸
**åŸå› **ï¼šå¯èƒ½æ˜¯é˜²ç«å¢™æˆ–å®‰å…¨ç»„æœªå¼€æ”¾8080ç«¯å£

**è§£å†³æ–¹æ³•**ï¼š

1. æ£€æŸ¥æœåŠ¡å™¨é˜²ç«å¢™ï¼š`sudo ufw status`
2. æ£€æŸ¥äº‘æœåŠ¡å•†å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾8080ç«¯å£
3. åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•ï¼š`curl http://localhost:8080`

### Q5: æ•°æ®åº“è¿æ¥å¤±è´¥
**åŸå› **ï¼šæ•°æ®åº“å¯†ç ä¸åŒ¹é…æˆ–æ•°æ®åº“æœªå¯åŠ¨

**è§£å†³æ–¹æ³•**ï¼š

1. æ£€æŸ¥æ•°æ®åº“å®¹å™¨æ˜¯å¦è¿è¡Œï¼š`docker-compose ps`
2. æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—ï¼š`docker-compose logs mysql`
3. ç¡®è®¤ `compose.yaml` ä¸­çš„å¯†ç é…ç½®ä¸€è‡´
4. ç­‰å¾…æ•°æ®åº“å®Œå…¨å¯åŠ¨ï¼ˆé€šå¸¸éœ€è¦30-60ç§’ï¼‰

### Q6: å¿˜è®°æœåŠ¡å™¨å¯†ç 
**è§£å†³æ–¹æ³•**ï¼š

1. åœ¨äº‘æœåŠ¡å•†æ§åˆ¶å°é‡ç½®å¯†ç 
2. é‡å¯æœåŠ¡å™¨ä½¿æ–°å¯†ç ç”Ÿæ•ˆ

### Q7: å¦‚ä½•æ›´æ–°åº”ç”¨ä»£ç 
**è§£å†³æ–¹æ³•**ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/network-homework

# å¦‚æœä½¿ç”¨Gitï¼Œæ‹‰å–æœ€æ–°ä»£ç 
git pull

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d --build
```

### Q8: å¦‚ä½•å¤‡ä»½æ•°æ®
**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ‰‹åŠ¨å¤‡ä»½
cd /opt/network-homework
./backup.sh

# å¤‡ä»½æ–‡ä»¶ä¼šä¿å­˜åœ¨é¡¹ç›®ç›®å½•ä¸‹
```

### Q9: æœåŠ¡å™¨ç£ç›˜ç©ºé—´ä¸è¶³
**è§£å†³æ–¹æ³•**ï¼š

```bash
# æ¸…ç†æœªä½¿ç”¨çš„Dockeré•œåƒå’Œå®¹å™¨
docker system prune -a

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
df -h

# æ¸…ç†Dockeræ—¥å¿—ï¼ˆå¦‚æœæ—¥å¿—è¿‡å¤§ï¼‰
sudo truncate -s 0 /var/lib/docker/containers/*/*-json.log
```

### Q10: å¦‚ä½•æŸ¥çœ‹æœåŠ¡å™¨IPåœ°å€
**è§£å†³æ–¹æ³•**ï¼š

```bash
# æŸ¥çœ‹å…¬ç½‘IP
curl ifconfig.me

# æˆ–
curl ip.sb

# æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£
ip addr show
```

---

## ä¸‹ä¸€æ­¥
éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å¯ä»¥ï¼š

1. **é…ç½®åŸŸå**ï¼šå°†åŸŸåè§£æåˆ°æœåŠ¡å™¨IPï¼Œè¯¦è§ [DEPLOYMENT.md](./DEPLOYMENT.md)
2. **é…ç½®HTTPS**ï¼šä½¿ç”¨ Let's Encrypt å…è´¹SSLè¯ä¹¦
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šæ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µè°ƒæ•´æœåŠ¡å™¨é…ç½®
4. **ç›‘æ§å‘Šè­¦**ï¼šé…ç½®ç›‘æ§è„šæœ¬ï¼ŒåŠæ—¶å‘ç°é—®é¢˜

---

## éœ€è¦å¸®åŠ©ï¼Ÿ
å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æ—¥å¿—ï¼š`docker-compose logs`
2. æ£€æŸ¥å®¹å™¨çŠ¶æ€ï¼š`docker-compose ps`
3. æŸ¥çœ‹ [HELP.md](./HELP.md) è·å–æ›´å¤šå¸®åŠ©
4. æŸ¥çœ‹ [DEPLOYMENT.md](./DEPLOYMENT.md) äº†è§£é«˜çº§é…ç½®

---

**ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥æ—¥å¿—å¹¶æ ¹æ®é”™è¯¯ä¿¡æ¯è¿›è¡Œæ’æŸ¥ã€‚

